<body>
    <div class="container">
        <a routerLink="/properties" class="back-link">Volver a propiedades</a>
        <div class="header">
            <div class="badges">
                <span class="badge badge-venta">{{propertySelected.operationTypeDTO.operationName}}</span>
                <span class="badge badge-ref">Ref: SUL-{{propertySelected.id}}</span>
            </div>
            <h1>{{propertySelected.title}}</h1>
            <p class="location">{{propertySelected.zoneDTO.zoneName}} |
                {{propertySelected.zoneDTO.cityDTO.cityName}}
                {{propertySelected.zoneDTO.cityDTO.provinceDTO.provinceName}} |
                {{propertySelected.zoneDTO.cityDTO.provinceDTO.countryDTO.countryName}}
            </p>
            <p class="price">${{propertySelected.price}}</p>
        </div>

        <div class="content-grid">
            <div class="main-content">
                <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800" alt="Mansi칩n"
                    class="property-image">

                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-label">Superficie construida</div>
                        <div class="stat-value">{{propertySelected.areaStructure}}m</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Habitaciones</div>
                        <div class="stat-value">{{propertySelected.bedrooms}}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Ba침os</div>
                        <div class="stat-value">{{propertySelected.bathrooms}}</div>
                    </div>
                </div>

                <h2 class="section-title">Descripci칩n</h2>
                <p class="description">
                    {{propertySelected.description}}
                </p>

                <h2 class="section-title">Caracter칤sticas</h2>
                <div class="features">
                    @for (item of propertySelected.amenitiesList; track $index) {
                    <div class="feature-item">{{item.amenityName}}</div>
                    }
                </div>

                <div class="additional-details">
                    <h2 class="section-title">Detalles adicionales</h2>
                    <div class="detail-row">
                        <span class="detail-label">Referencia:</span>
                        <span class="detail-value">SUL-{{propertySelected.id}}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Tipo:</span>
                        <span class="detail-value">{{propertySelected.propertyTypeDTO.typeName}}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Superficie total:</span>
                        <span class="detail-value">{{propertySelected.totalArea}}m</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">A침o construcci칩n:</span>
                        <span class="detail-value">{{propertySelected.yearConstruction}}</span>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="agent-info">
                    <div class="agent-avatar">游녻</div>
                    <div class="agent-title">Asesor inmobiliario</div>
                    <div class="agent-name">Patrick O'Sullivan</div>
                </div>

                <div class="contact-info">
                    <div class="contact-item">游 +34 912 345 678</div>
                    <div class="contact-item">九괦잺 patrick@inmobiliariasullivan.com</div>
                </div>

                <form [formGroup]="form" (submit)="onSumbit()"  >
                    <h3 class="form-title">쯊e interesa esta propiedad?</h3>

                    <div class="form-group">
                        <label class="form-label">Nombre</label>
                        <input type="text" class="form-input" placeholder="" formControlName="fullName">
                    </div>
                    @if (form.get('fullName')?.hasError('required') && form.get('fullName')?.touched ) { <p class="p-error">Este campo es obligatorio</p> }
                    @else if (form.get('fullName')?.hasError('minlength') && form.get('fullName')?.touched ) { <p class="p-error">El nombre debe tener al menos 3 caracteres</p> }
                    @else if (form.get('fullName')?.hasError('maxlength') && form.get('fullName')?.touched ) { <p class="p-error">El nombre debe tener un maximo de 100 caracteres</p> }
                    @else if (form.get('fullName')?.hasError('pattern') && form.get('fullName')?.touched ) { <p class="p-error">Ingrese su nombre y apellido</p> }

                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" placeholder="" formControlName="email">
                    </div>
                    @if (form.get('email')?.hasError('required') && form.get('email')?.touched ) { <p class="p-error">Este campo es obligatorio</p> }
                    @else if (form.get('email')?.hasError('email') && form.get('email')?.touched ) { <p class="p-error">Debe ingresar un email de contacto</p> }
                    @else if (form.get('email')?.hasError('maxlength') && form.get('email')?.touched ) { <p class="p-error"> El email debe tener como maximo 200 caracteres</p> }

                    <div class="form-group">
                        <label class="form-label">Tel칠fono</label>
                        <input type="tel" class="form-input" placeholder="" formControlName="numberPhone">
                    </div>
                    @if (form.get('numberPhone')?.hasError('required') && form.get('numberPhone')?.touched ) { <p class="p-error">Este campo es obligatorio</p> }
                    @else if (form.get('numberPhone')?.hasError('pattern') && form.get('numberPhone')?.touched ) { <p class="p-error">El telefono solo puede tener numeros, espacios y el signo '+'</p> }
                    @else if (form.get('numberPhone')?.hasError('maxlength') && form.get('numberPhone')?.touched ) { <p class="p-error"> El telefono debe tener al menos 10 caracteres</p> }
                    @else if (form.get('numberPhone')?.hasError('minlength') && form.get('numberPhone')?.touched ) { <p class="p-error"> El telefono debe tener como maximo 500 caracteres</p> }
            
                    <div class="form-group">
                        <label class="form-label">Mensaje</label>
                        <textarea class="form-textarea" placeholder="Me interesa esta propiedad y quisiera recibir m치s informaci칩n." formControlName="description"></textarea>
                    </div>
                    @if (form.get('description')?.hasError('required') && form.get('description')?.touched ) { <p class="p-error">Este campo es obligatorio</p> }
                    @else if (form.get('description')?.hasError('minlength') && form.get('description')?.touched ) { <p class="p-error">La descripcion debe tener al menos 10 caracteres</p> }
                    @else if (form.get('description')?.hasError('maxlength') && form.get('description')?.touched ) { <p class="p-error">La descripcion debe tener un maximo de 2000 caracteres</p> }

                    <div class="checkbox-group">
                        <input type="checkbox" id="privacy" formControlName="conditions">
                        <label for="privacy">He le칤do y acepto la <a href="#">pol칤tica de privacidad</a></label>
                    </div>
                    
                    <button type="submit" class="submit-btn" [disabled]="form.invalid" >Enviar consulta</button>
                </form>
            </div>
        </div>
    </div>
</body>